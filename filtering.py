#!/usr/bin/env python2
# -*- coding: utf-8 -*-
"""
Created on Fri Nov 18 15:33:47 2016

@author: danielvillarreal
"""

import numpy as np
import pylab as pl
import sklearn as sk
import scipy as sp
from scipy import signal as signal
import glob
import cPickle as pickle


#Lowpass filter coeffs to limit frequency to 60Hz
lowpass = np.array([
  -0.0001365990484757, -0.00178216591314,-0.006061518274346,  -0.0114716171524,
   -0.01303038946718,-0.006901298449851, 0.003385930889341,  0.00816464463169,
   0.002325670935349,-0.006697236034319,-0.006556334097553, 0.003490038041517,
   0.009618349116184, 0.001717852394504, -0.01037774822362,-0.008333761227073,
   0.007498127436962,  0.01467423470035,-0.0002799467394243, -0.01821184850253,
   -0.01068425645336,  0.01624461014939,  0.02335795317838,-0.006418245349722,
   -0.03418805642254, -0.01276137350186,  0.03836532712319,  0.04262432924101,
   -0.02873885456828, -0.08844225799663, -0.01396202072002,   0.1964666659255,
     0.3854025496733,   0.3854025496733,   0.1964666659255, -0.01396202072002,
   -0.08844225799663, -0.02873885456828,  0.04262432924101,  0.03836532712319,
   -0.01276137350186, -0.03418805642254,-0.006418245349722,  0.02335795317838,
    0.01624461014939, -0.01068425645336, -0.01821184850253,-0.0002799467394243,
    0.01467423470035, 0.007498127436962,-0.008333761227073, -0.01037774822362,
   0.001717852394504, 0.009618349116184, 0.003490038041517,-0.006556334097553,
  -0.006697236034319, 0.002325670935349,  0.00816464463169, 0.003385930889341,
  -0.006901298449851, -0.01303038946718,  -0.0114716171524,-0.006061518274346,
   -0.00178216591314,-0.0001365990484757])


eeg['data'][:,0] = signal.convolve(eeg['data'][:,0],lowpass,mode='same')
eeg['data'][:,1] = signal.convolve(eeg['data'][:,1],lowpass,mode='same')
eeg['data'][:,2] = signal.convolve(eeg['data'][:,2],lowpass,mode='same')